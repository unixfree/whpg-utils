Last login: Sun Jul 20 23:09:06 on ttys019
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com
Register this system with Red Hat Insights: insights-client --register
Create an account or view all your systems at https://red.ht/insights-dashboard
Last login: Mon Jul 21 01:44:18 2025 from 1.235.164.186
[ec2-user@ip-10-0-31-196 ~]$ Read from remote host ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com: Operation timed out
Connection to ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com closed.
client_loop: send disconnect: Broken pipe
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com
ssh: connect to host ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com port 22: Undefined error: 0
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com
ssh: connect to host ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com port 22: Undefined error: 0
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com
ssh: connect to host ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com port 22: Undefined error: 0
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com
Register this system with Red Hat Insights: insights-client --register
Create an account or view all your systems at https://red.ht/insights-dashboard
Last login: Mon Jul 21 05:35:34 2025 from 221.142.244.71
[ec2-user@ip-10-0-31-196 ~]$ ls
benchmarksql  edb-repo.rpm
[ec2-user@ip-10-0-31-196 ~]$ ls /usr/local
bin  etc  games  include  lib  lib64  libexec  sbin  share  src
[ec2-user@ip-10-0-31-196 ~]$ pwd
/home/ec2-user
[ec2-user@ip-10-0-31-196 ~]$ exit
logout
Connection to ec2-3-37-28-218.ap-northeast-2.compute.amazonaws.com closed.
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % pwd
/Users/paul.son
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com
Last login: Mon Jul 21 01:43:36 2025 from 1.235.164.186
[ec2-user@ip-10-0-27-155 ~]$ ls
0_OS_Prepare.sh  1_add_hosts_gpadmin_ssh.sh  whpg6_redhat9  whpg7_redhat9
[ec2-user@ip-10-0-27-155 ~]$ ls -al /usr/local
total 8
drwxr-xr-x. 16 root    root    4096 Jul 20 16:34 .
drwxr-xr-x. 12 root    root     144 Jun 18 23:34 ..
drwxr-xr-x.  2 root    root      88 Jul 20 15:13 bin
drwxr-xr-x  14 gpadmin gpadmin 4096 Jul 20 15:14 edb-whpg7-pxf
drwxr-xr-x.  2 root    root       6 Jun 25  2024 etc
drwxr-xr-x.  2 root    root       6 Jun 25  2024 games
lrwxrwxrwx   1 gpadmin gpadmin   34 Jul 20 15:13 greenplum-db -> /usr/local/greenplum-db-7.2.1-WHPG
drwxr-xr-x   9 root    root     120 Jul 20 16:34 greenplum-db-6.27.1
drwxr-xr-x   9 gpadmin gpadmin  120 Jul 20 15:13 greenplum-db-7.2.1-WHPG
lrwxrwxrwx   1 root    root      42 Jul 20 15:43 greenplum-db-clients -> /usr/local/greenplum-db-clients-7.2.1-WHPG
drwxr-xr-x   4 root    root      94 Jul 20 15:43 greenplum-db-clients-7.2.1-WHPG
drwxr-xr-x.  2 root    root       6 Jun 25  2024 include
drwxr-xr-x.  2 root    root       6 Jun 25  2024 lib
drwxr-xr-x.  3 root    root      17 Jun 18 23:34 lib64
drwxr-xr-x.  2 root    root       6 Jun 25  2024 libexec
drwxr-xr-x.  2 root    root       6 Jun 25  2024 sbin
drwxr-xr-x.  6 root    root      60 Jul 20 16:34 share
drwxr-xr-x.  2 root    root       6 Jun 25  2024 src
[ec2-user@ip-10-0-27-155 ~]$ ls /usr/local/bin
gpbackup  gpbackup_helper  gpbackup_s3_plugin  gprestore
[ec2-user@ip-10-0-27-155 ~]$ ud
-bash: ud: command not found
[ec2-user@ip-10-0-27-155 ~]$ id
uid=1000(ec2-user) gid=1000(ec2-user) groups=1000(ec2-user),4(adm),190(systemd-journal)
[ec2-user@ip-10-0-27-155 ~]$ ls
0_OS_Prepare.sh  1_add_hosts_gpadmin_ssh.sh  whpg6_redhat9  whpg7_redhat9
[ec2-user@ip-10-0-27-155 ~]$ cd whpg6_redhat9/
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ ls
edb-python27-2.7.18-0.0snapshot15813037039.26.1.05bb807.1.el9.x86_64.rpm  warehouse-pg-6.27.1-1.el9.x86_64.rpm          whpg-backup-1.31.0-WHPG-1.el9.x86_64.rpm
edb-whpg6-pxf-6.10.1-1.el9.x86_64.rpm                                     warehouse-pg-clients-6.27.1-1.el9.x86_64.rpm
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ pwd
/home/ec2-user/whpg6_redhat9
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ pwd
/home/ec2-user/whpg6_redhat9
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ mv edb-python27-2.7.18-0.0snapshot15813037039.26.1.05bb807.1.el9.x86_64.rpm edb-python27-2.7.18-0.el9.x86_64.rpm
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ ls
edb-python27-2.7.18-0.el9.x86_64.rpm   warehouse-pg-6.27.1-1.el9.x86_64.rpm          whpg-backup-1.31.0-WHPG-1.el9.x86_64.rpm
edb-whpg6-pxf-6.10.1-1.el9.x86_64.rpm  warehouse-pg-clients-6.27.1-1.el9.x86_64.rpm
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ scp edb-python27-2.7.18-0.el9.x86_64.rpm whpg-sm:/home/ec2-user
ec2-user@whpg-sm: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).
Connection closed
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ scp edb-python27-2.7.18-0.el9.x86_64.rpm ^Cpg-sm:/home/ec2-user
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ id
uid=1000(ec2-user) gid=1000(ec2-user) groups=1000(ec2-user),4(adm),190(systemd-journal)
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ sudu su gpadmin
-bash: sudu: command not found
[ec2-user@ip-10-0-27-155 whpg6_redhat9]$ sudo su gpadmin
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ cd
[gpadmin@ip-10-0-27-155 ~]$ ls
gpAdminLogs  gpconfigs  pkg  whpg6_redhat9  whpg7_redhat9
[gpadmin@ip-10-0-27-155 ~]$ cd whpg
bash: cd: whpg: No such file or directory
[gpadmin@ip-10-0-27-155 ~]$ cd whpg6_redhat9/
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ ls
edb-python27-2.7.18-0.0snapshot15813037039.26.1.05bb807.1.el9.x86_64.rpm  warehouse-pg-6.27.1-1.el9.x86_64.rpm          whpg-backup-1.31.0-WHPG-1.el9.x86_64.rpm
edb-whpg6-pxf-6.10.1-1.el9.x86_64.rpm                                     warehouse-pg-clients-6.27.1-1.el9.x86_64.rpm
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ mv edb-python27-2.7.18-0.0snapshot15813037039.26.1.05bb807.1.el9.x86_64.rpm edb-python27-2.7.18-0.el9.x86_64.rpm
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ ls
edb-python27-2.7.18-0.el9.x86_64.rpm   warehouse-pg-6.27.1-1.el9.x86_64.rpm          whpg-backup-1.31.0-WHPG-1.el9.x86_64.rpm
edb-whpg6-pxf-6.10.1-1.el9.x86_64.rpm  warehouse-pg-clients-6.27.1-1.el9.x86_64.rpm
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ scp edb-python27-2.7.18-0.el9.x86_64.rpm whpg-sm:/home/gpadmin
edb-python27-2.7.18-0.el9.x86_64.rpm                                                                                                        100%   14MB 373.4MB/s   00:00    
[gpadmin@ip-10-0-27-155 whpg6_redhat9]$ Read from remote host ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com: Operation timed out
Connection to ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com closed.
client_loop: send disconnect: Broken pipe
paul.son@MAC-HW17GLVY9Y ~ % ls
Applications			Downloads			Music				Public				VirtualBox VMs
Desktop				Library				oradiag_paul.son		tokens				Workplace
Documents			Movies				Pictures			Virtual Machines.localized
paul.son@MAC-HW17GLVY9Y ~ % cd Downloads 
paul.son@MAC-HW17GLVY9Y Downloads % cd pkg 
paul.son@MAC-HW17GLVY9Y pkg % ls
bdr5		greenplum6	LinuxOS		Oracle		pgd6		whpg_tmp	whpg6_redhat8	whpg6_redhat9	whpg7_redhat8	whpg7_redhat9
paul.son@MAC-HW17GLVY9Y pkg % cd greenplum6 
paul.son@MAC-HW17GLVY9Y greenplum6 % ls
greenplum-cc-web-6.13.1-gp6-rhel8-x86_64.zip	greenplum-db-6.30.0-rhel9-x86_64.rpm
greenplum-db-6.28.2-rhel8-x86_64.rpm		pxf-gp6-6.11.1-2.el8.x86_64.rpm
paul.son@MAC-HW17GLVY9Y greenplum6 % scp -i ../../paul-key.pem greenplum-db-6.30.0-rhel9-x86_64.rpm ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com:/home/ec2-user
greenplum-db-6.30.0-rhel9-x86_64.rpm                                                                                                        100%  191MB   8.2MB/s   00:23    
paul.son@MAC-HW17GLVY9Y greenplum6 % id
uid=501(paul.son) gid=20(staff) groups=20(staff),502(awagent_enrolled),501(awagent),12(everyone),61(localaccounts),79(_appserverusr),80(admin),81(_appserveradm),701(com.apple.sharepoint.group.1),33(_appstore),98(_lpadmin),100(_lpoperator),204(_developer),250(_analyticsusers),395(com.apple.access_ftp),398(com.apple.access_screensharing),399(com.apple.access_ssh),400(com.apple.access_remote_ae)
paul.son@MAC-HW17GLVY9Y greenplum6 % 
paul.son@MAC-HW17GLVY9Y greenplum6 % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com
Warning: Identity file Downloads/paul-key.pem not accessible: No such file or directory.
ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).
paul.son@MAC-HW17GLVY9Y greenplum6 % pwd
/Users/paul.son/Downloads/pkg/greenplum6
paul.son@MAC-HW17GLVY9Y greenplum6 % cd
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com
Last login: Mon Jul 21 23:57:51 2025 from 1.235.164.186
[ec2-user@whpg-m ~]$ ls
0_OS_Prepare.sh  1_add_hosts_gpadmin_ssh.sh  greenplum-db-6.30.0-rhel9-x86_64.rpm  whpg6_redhat9  whpg7_redhat9
[ec2-user@whpg-m ~]$ env
SHELL=/bin/bash
HISTCONTROL=ignoredups
HISTSIZE=1000
HOSTNAME=whpg-m
PWD=/home/ec2-user
LOGNAME=ec2-user
XDG_SESSION_TYPE=tty
MOTD_SHOWN=pam
HOME=/home/ec2-user
LANG=en_US.UTF-8
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:
SSH_CONNECTION=1.235.164.186 58728 10.0.27.155 22
XDG_SESSION_CLASS=user
TERM=xterm-256color
LESSOPEN=||/usr/bin/lesspipe.sh %s
USER=ec2-user
SHLVL=1
XDG_SESSION_ID=247
XDG_RUNTIME_DIR=/run/user/1000
SSH_CLIENT=1.235.164.186 58728 22
DEBUGINFOD_IMA_CERT_PATH=/etc/keys/ima:
which_declare=declare -f
XDG_DATA_DIRS=/home/ec2-user/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share
PATH=/home/ec2-user/.local/bin:/home/ec2-user/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus
MAIL=/var/spool/mail/ec2-user
SSH_TTY=/dev/pts/1
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@
}
_=/usr/bin/env
[ec2-user@whpg-m ~]$ id
uid=1000(ec2-user) gid=1000(ec2-user) groups=1000(ec2-user),4(adm),190(systemd-journal)
[ec2-user@whpg-m ~]$ sudo su - gpadmin
Last login: Mon Jul 21 23:58:25 UTC 2025 on pts/0
[gpadmin@whpg-m ~]$ env
SHELL=/bin/bash
HISTCONTROL=ignoredups
HISTSIZE=1000
HOSTNAME=whpg-m
JAVA_HOME=/usr/lib/jvm/java-17-openjdk-17.0.16.0.8-2.el9.x86_64
MASTER_DATA_DIRECTORY=/data/coordinator/gpseg-1
PWD=/home/gpadmin
LOGNAME=gpadmin
HOME=/home/gpadmin
LANG=en_US.UTF-8
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:
GPHOME=/usr/local/greenplum-db-6.30.0
COORDINATOR_DATA_DIRECTORY=/data/coordinator/gpseg-1
PYTHONPATH=/usr/local/greenplum-db-6.30.0/lib/python
TERM=xterm-256color
PYTHONHOME=/usr/local/greenplum-db-6.30.0/ext/python
LESSOPEN=||/usr/bin/lesspipe.sh %s
USER=gpadmin
SHLVL=1
LD_LIBRARY_PATH=/usr/local/greenplum-db-6.30.0/lib:/usr/local/greenplum-db-6.30.0/ext/python/lib
DEBUGINFOD_IMA_CERT_PATH=/etc/keys/ima:
which_declare=declare -f
XDG_DATA_DIRS=/home/gpadmin/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share
PATH=/usr/local/greenplum-db-6.30.0/bin:/usr/local/greenplum-db-6.30.0/ext/python/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
MAIL=/var/spool/mail/gpadmin
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@
}
_=/usr/bin/env
[gpadmin@whpg-m ~]$ pwd
/home/gpadmin
[gpadmin@whpg-m ~]$ cd whpgu
-bash: cd: whpgu: No such file or directory
[gpadmin@whpg-m ~]$ cd whpg-utils/
[gpadmin@whpg-m whpg-utils]$ ls
check_current_version.sh  extension.sql          hostname.sql  query.sql         restore_metric.sh            swap_edb_pxf.sh
clean.sh                  gp_hosts.txt           post_swap.sh  README.md         swap_broadcom_pxf.sh         swap_edb_to_broadcom_pxf.sh
config.env                gp_nodes_segments.txt  pre_swap.sh   remove_metric.sh  swap_broadcom_to_edb_pxf.sh  update_shared_preload.sh
[gpadmin@whpg-m whpg-utils]$ ls -al
total 88
drwxr-xr-x  3 gpadmin gpadmin 4096 Jul 22 00:04 .
drwx------ 15 gpadmin gpadmin 4096 Jul 22 00:01 ..
-rwxr-xr-x  1 gpadmin gpadmin 1434 Jul 21 14:40 check_current_version.sh
-rwxr-xr-x  1 gpadmin gpadmin  814 Jul 21 14:40 clean.sh
-rw-r--r--  1 gpadmin gpadmin 2075 Jul 21 16:19 config.env
-rw-r--r--  1 gpadmin gpadmin   28 Jul 21 14:40 extension.sql
drwxr-xr-x  8 gpadmin gpadmin  163 Jul 21 14:40 .git
-rw-r--r--  1 gpadmin gpadmin   31 Jul 21 15:08 gp_hosts.txt
-rw-r--r--  1 gpadmin gpadmin  144 Jul 21 14:40 gp_nodes_segments.txt
-rw-r--r--  1 gpadmin gpadmin   74 Jul 21 14:40 hostname.sql
-rwxr-xr-x  1 gpadmin gpadmin 1271 Jul 21 14:40 post_swap.sh
-rwxr-xr-x  1 gpadmin gpadmin 3045 Jul 21 15:21 pre_swap.sh
-rw-r--r--  1 gpadmin gpadmin  109 Jul 21 14:40 query.sql
-rw-r--r--  1 gpadmin gpadmin 2371 Jul 21 14:40 README.md
-rwxr-xr-x  1 gpadmin gpadmin  653 Jul 21 14:40 remove_metric.sh
-rwxr-xr-x  1 gpadmin gpadmin  664 Jul 21 14:40 restore_metric.sh
-rwxr-xr-x  1 gpadmin gpadmin 4062 Jul 21 14:40 swap_broadcom_pxf.sh
-rwxr-xr-x  1 gpadmin gpadmin 5249 Jul 21 15:21 swap_broadcom_to_edb_pxf.sh
-rwxr-xr-x  1 gpadmin gpadmin 2773 Jul 21 14:40 swap_edb_pxf.sh
-rwxr-xr-x  1 gpadmin gpadmin 5396 Jul 21 14:40 swap_edb_to_broadcom_pxf.sh
-rwxr-xr-x  1 gpadmin gpadmin 1258 Jul 21 14:40 update_shared_preload.sh
[gpadmin@whpg-m whpg-utils]$ vi swap_broadcom_pxf.sh 
[gpadmin@whpg-m whpg-utils]$ vi swap_broadcom_pxf.sh 
[gpadmin@whpg-m whpg-utils]$ vi swap_broadcom_to_edb_pxf.sh 
[gpadmin@whpg-m whpg-utils]$ vi swap_broadcom_to_edb_pxf.sh 
[gpadmin@whpg-m whpg-utils]$ vi config.env 
[gpadmin@whpg-m whpg-utils]$ vi swap_broadcom_to_edb_pxf.sh 
[gpadmin@whpg-m whpg-utils]$ Read from remote host ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com: Operation timed out
Connection to ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com closed.
client_loop: send disconnect: Broken pipe
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % 
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com
Last login: Mon Jul 21 23:58:12 2025 from 1.235.164.186
[ec2-user@whpg-m ~]$ Read from remote host ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com: Operation timed out
Connection to ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com closed.
client_loop: send disconnect: Broken pipe
paul.son@MAC-HW17GLVY9Y ~ % ls
Applications			Downloads			Music				Public				VirtualBox VMs
Desktop				Library				oradiag_paul.son		tokens				Workplace
Documents			Movies				Pictures			Virtual Machines.localized
paul.son@MAC-HW17GLVY9Y ~ % ssh -i "Downloads/paul-key.pem" ec2-user@ec2-16-184-31-244.ap-northeast-2.compute.amazonaws.com
Last login: Tue Jul 22 03:44:12 2025 from 1.235.164.186
[ec2-user@whpg-m ~]$ sudo su - gpadmin
Last login: Tue Jul 22 07:20:04 UTC 2025 on pts/0
[gpadmin@whpg-m ~]$ ls
go  gpAdminLogs  gpconfigs  greenplum-db-6.30.0-rhel9-x86_64.rpm  pxf  pxf-base  swap_logs  whpg6_redhat9  whpg7_redhat9  whpg-utils
[gpadmin@whpg-m ~]$ vi whpg-utils/config.env 
[gpadmin@whpg-m ~]$ cat .bashrc 
source /usr/local/greenplum-db/greenplum_path.sh
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-17.0.16.0.8-2.el9.x86_64
export PATH=$PATH:$PXF_HOME/bin
export PATH=$PXF_HOME/bin:$PATH
export PXF_HOME=/usr/local/edb-whpg6-pxf
export PXF_BASE=/home/gpadmin/pxf-base
export PATH=$PXF_HOME/bin:$PATH
[gpadmin@whpg-m ~]$ type pxf
pxf is /usr/local/edb-whpg6-pxf/bin/pxf
[gpadmin@whpg-m ~]$ vi whpg-utils/swap_
swap_broadcom_pxf.sh         swap_broadcom_to_edb_pxf.sh  swap_edb_pxf.sh              swap_edb_to_broadcom_pxf.sh  
[gpadmin@whpg-m ~]$ vi whpg-utils/swap_broadcom_pxf.sh 
[gpadmin@whpg-m ~]$ vi whpg-utils/config.env 

PRE_SWAP="/home/gpadmin/whpg-utils/pre_swap.sh"
POST_SWAP="/home/gpadmin/whpg-utils/post_swap.sh"

# EDB to Broadcom Script paths
SWAP_SCRIPT_E_TO_B="/home/gpadmin/whpg-utils/swap_edb_pxf.sh"

# Greenplum paths
PG_CONFIG_PATH=/usr/local/greenplum-db/bin/pg_config
GPHOME_SYMLINK=/usr/local/greenplum-db

# SQL scripts
SEGMENT_QUERY=/home/gpadmin/whpg-utils/query.sql
HOSTNAME_QUERY=/home/gpadmin/whpg-utils/hostname.sql
EXTENSION_QUERY=/home/gpadmin/whpg-utils/extension.sql

# Databases
SEGMENT_DB=postgres
EXTENSION_DB=whpg

# GP directories
GP_SYMLINK="/usr/local/greenplum-db"
GP_NEW_DIR="/usr/local/greenplum-db-6.27.1"
GP_PARENT_DIR="/usr/local"

GP_BROADCOM_DIR="/usr/local/greenplum-db-6.30.0"
GP_BROADCOM_BACKUP="/usr/local/greenplum-db-6.30.0_broadcom"
GP_BROADCOM_RPM="/home/gpadmin/greenplum-db-6.30.0-rhel9-x86_64.rpm"
#BROADCOM_PXF_RPM="/home/gpadmin/pxf-gp6-6.11.1-2.el9.x86_64.rpm"
BROADCOM_PXF_RPM=

BASE_DIRS="/data"

# RPM files
RPM_GP="/home/gpadmin/whpg6_redhat9/warehouse-pg-6.27.1-1.el9.x86_64.rpm"
RPM_GP_PY27="/home/gpadmin/whpg6_redhat9/edb-python27-2.7.18-0.el9.x86_64.rpm"
RPM_GP_BACKUP="/home/gpadmin/whpg6_redhat9/whpg-backup-1.31.0-WHPG-1.el9.x86_64.rpm"
EDB_PXF_RPM="/home/gpadmin/whpg6_redhat9/edb-whpg6-pxf-6.10.1-1.el9.x86_64.rpm"

# PXF paths
PXF_BASE="/home/gpadmin/pxf-base"
PXF_HOME="/usr/local/greenplum-db/pxf"
#PXF_HOME="/usr/local/pxf-gp6"
PXF_HOME_NEW="/usr/local/edb-whpg6-pxf"
PXF_BASE_PARENT="/home/gpadmin"
PXF_HOME_PARENT="/usr/local"

# Log file
LOGFILE="/home/gpadmin/swap_broadcom_pxf.log"
SWAP_LOG_DIR="/home/gpadmin/swap_logs"

# Temp files
TMP_FILE_SEGMENTS="/tmp/gp_nodes_segments.txt"
TMP_FILE_HOSTS="/tmp/gp_hosts.txt"
